This repo contains code licensed under more than one license.

web2py has its own license (LGPL) at:

server/web2py/LICENSE.

api application located at:

server/web2py/applications/api/*

has is licensed according to this repo

TODO: build process and remove web2py from repo for clarity


# Installation

## client

```
git clone https://github.com/myiremark/web2py-restful-openapi-crossplatform-app/;
cd web2py-restful-openapi-crossplatform-app/client/ionic;
npm install;
```

## server
```
git clone https://github.com/myiremark/web2py-restful-openapi-crossplatform-app/;
mkvirtualenv crossplatform
cd web2py-restful-openapi-crossplatform-app/server/web2py;
pip install -r requirements.txt
```

## elasticsearch

```
docker run -p 127.0.0.1:9200:9200 -p 127.0.0.1:9300:9300 -e "discovery.type=single-node" -e "http.cors.enabled=true" -e 'http.cors.allow-origin="*"' -e "http.cors.allow-methods=OPTIONS,HEAD,GET,POST,PUT,DELETE" -e "http.cors.allow-headers=X-Requested-With,X-Auth-Token,Content-Type,Content-Length" docker.elastic.co/elasticsearch/elasticsearch:7.6.2
```

or use included docker compose / dockerfile

### generate typescript client from server

```
cd web2py-restful-openapi-crossplatform-app/client/ionic;

# generate most recent swagger

curl -O http://127.0.0.1:9999/api/autogenerated/swagger.json

npx @openapitools/openapi-generator-cli generate -i swagger.json -g typescript-axios -o src/services/web2pyrestful
```

